/*C21*/SET SCHEMA PUBLIC
drop table role if exists
drop table user if exists
drop table user_roles if exists
create table role (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
create table user (id bigint generated by default as identity (start with 1), account_expired boolean, account_locked boolean, credentials_expired boolean, account_enabled boolean, password varchar(255), username varchar(255) not null, primary key (id))
create table user_roles (user_id bigint not null, roles_id bigint not null, primary key (user_id, roles_id))
alter table user_roles add constraint FK_amwlmdeik2qdnksxgd566knop foreign key (roles_id) references role
alter table user_roles add constraint FK_g1uebn6mqk9qiaw45vnacmyo2 foreign key (user_id) references user
INSERT INTO USER VALUES(1,FALSE,FALSE,FALSE,TRUE,'test','test')
COMMIT
INSERT INTO ROLE VALUES(1,'ADMIN')
COMMIT
INSERT INTO USER_ROLES VALUES(1,1)
COMMIT
alter table user_roles drop constraint FK_amwlmdeik2qdnksxgd566knop
alter table user_roles drop constraint FK_g1uebn6mqk9qiaw45vnacmyo2
drop table role if exists
drop table user if exists
drop table user_roles if exists
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
